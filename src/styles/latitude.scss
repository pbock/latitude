$axis-line-color: #ccc;
$city-color: #000;

body {
	font: 1em/1.4 "Fira Sans", sans-serif;
}

.map {
	@import "partials/reset";
	position: relative;

	width: 100%;
	height: 80vh;

	font-size: 14px;

	cursor: default;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	-o-user-select: none;
	user-select: none;
}
.map-container {
	position: absolute;
	top: 0;
	left: 3em;
	box-sizing: border-box;

	width: calc(100% - 3em);
	height: 100%;
}
.axis-lines {
}
.axis-line {
	position: absolute;

	width: 100%;
	border-top: 1px solid $axis-line-color;

	&.mod-minor {
		border-top-color: rgba($axis-line-color, .5);
		.axis-line-label {
			display: none;
		}
	}
	&.mod-equator {
		border-top-width: 2px;
	}
}
.axis-line-label {
	display: block;

	margin-left: -3em;
	margin-top: -.6em;
	width: 2.6em;
	text-align: right;
}
.continent {
	position: absolute;
	background-color: rgba(#000, .2);

	&-cities {
		width: 100%;
		height: 100%;
		mix-blend-mode: multiply;
	}

	&-name {
		position: absolute;
		left: 0;
		top: 0;

		height: 0;
		width: 10em;
		transform-origin: left top;
		transform: rotate(90deg);
		white-space: nowrap;

		&.mod-right {
			top: auto;
			bottom: 10em;

			// transform-origin: left bottom;
			text-align: right;
		}
	}
}

%label {
	position: absolute;
	display: block;
	padding: 0 .5em;
	transform: translateY(-.7em);
}
%label-text {
	background-color: #fff;
	box-shadow: .2em 0 0 #fff, -.2em 0 0 #fff;
}
%inline-button {
	border: none;
	margin-left: .2em;
	font-size: 1.2em;
	width: .8em;
	height: .8em;
	line-height: .8em;
	padding: 0;

	cursor: pointer;

	&:hover {
		background-color: #bbb;
	}
}

.city-marker {
	position: absolute;
	z-index: 0;

	width: 100%;
	color: $city-color;
	border-top: 1px solid $city-color;

	&-label {
		@extend %label;

		&-text {
			@extend %label-text;
		}
	}

	&-remove-button {
		display: none;
		@extend %inline-button;
	}
	&-label:hover .city-marker-remove-button {
		display: inline-block;
	}
}
.city-marker-cluster {
	.city-marker {
		border-top-color: rgba($city-color, .3);
	}
	&-label {
		@extend %label;
		z-index: 1;
		width: 100%;

		&-text {
			@extend %label-text;
		}
	}

	.city-marker-label {
		position: static;
	}
}

.dropdown {
	position: relative;
	width: 100%;

	&-expander {
		position: absolute;

		left: -.5em;
		top: .5em;

		&.is-contracted {
			pointer-events: none;
		}
		&.is-expanded {
			pointer-events: all;
		}
	}
	ul {
		margin: 0;
		width: 100%;
		list-style: none;
	}
	li {
		margin: 0;
	}
	&-item {
		background-color: rgba(#fff, .8);
		width: 100%;
		transition: transform .2s ease, opacity .2s ease;
		&.is-contracted {
			transform: translateY(.5em);
			opacity: 0;
		}
		&.is-expanded {
			transform: none;
			opacity: 1;
		}
	}
}
.controls {
	position: relative;
	z-index: 2;

	margin-bottom: .5em;
}
.labeled-field {
	display: inline-block;

	border: 1px solid #ccc;

	&-label {
		display: inline-block;
		padding: .25em;
	}
	&-field {

	}
	input {
		border: none;
		padding: .25em;
		width: 15em;

		font: inherit;

		&:focus {
			outline: none;
		}
	}
	&.has-focus {
		border-color: #09c;
		box-shadow: 0 0 6px rgba(#09c, .3);
	}
}
.autocomplete-row {
	padding: .2em;

	&.is-highlighted {
		background-color: rgba(#09c, .5);
	}
	&-secondary {
		color: rgba(#000, .4);
	}
	p {
		margin: 0;
	}
}
